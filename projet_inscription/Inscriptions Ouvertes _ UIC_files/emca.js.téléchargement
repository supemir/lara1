!function(e){var t={},n={cookieID:"__emca_user"},i={random:function(){return Math.round(2147483647*Math.random())},uuid:function(){var e,t,n,i,o;for(e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),o=new Array(36),i=0,t=0;36>t;)8===t||13===t||18===t||23===t?o[t]="-":14===t?o[t]="4":(2>=i&&(i=33554432+16777216*Math.random()|0),n=15&i,i>>=4,o[t]=e[19===t?3&n|8:n]),t++;return o.join("")},cookie:function(e,t,n){var i,o,r;return arguments.length>1&&"[object Object]"!==String(t)?(n=n||{},(null===t||void 0===t)&&(n.expires=-1),"number"==typeof n.expires&&(i=n.expires,r=n.expires=new Date,r.setTime(r.getTime()+24*i*60*60*1e3)),document.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")):(o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie),o?decodeURIComponent(o[1]):null)},ping:function(e){var n=new Image(1,1);return n.src=t.pingURL+"?"+e+"&req="+this.random()},getCookie:function(e){return this.cookie(e)},setCookie:function(e,t){return this.cookie(e,t,{expires:17531})},getURL:function(){return e.location.href},getQueryString:function(){return e.location.search.slice(1)},querystring:function(e){var t,n=this.getQueryString(),i=n.split("&"),o=i.length;for(t=0;o>t;t++)if(i[t].split("=")[0]===e)return i[t].split("=")[1]},checkUser:function(){var e=this.getCookie(n.cookieID);return e?e:this.tagNewUser()},tagNewUser:function(){var e=this.uuid();return this.setCookie(n.cookieID,e),e},trackPageview:function(){var e=[];e.push("user="+encodeURIComponent(t.user)),e.push("url="+encodeURIComponent(t.url)),t.site&&e.push("site="+encodeURIComponent(t.site)),this.ping(e.join("&"))},trackEvent:function(e){},init:function(){var e=document.getElementById("emca");t.pingURL=e.getAttribute("data-emca-ping"),t.site=e.getAttribute("data-emca-site"),t.url=this.getURL(),t.user=this.checkUser()}};e.emca=i,i.init(),i.trackPageview()}(window);